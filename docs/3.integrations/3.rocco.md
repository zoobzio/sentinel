---
title: rocco
description: OpenAPI generation from Go types
author: zoobzio
published: 2025-12-30
updated: 2026-01-13
tags:
  - Integrations
  - OpenAPI
  - Documentation
---

# rocco

HTTP framework that generates OpenAPI specifications from request and response types.

## The Problem

API documentation drifts. You update a handler, forget to update the spec, and clients break.

## The Pipeline

Define request types with validation and documentation tags:

```go
type CreateUserRequest struct {
    Name  string `json:"name" validate:"required,min=3,max=100" description:"User's full name"`
    Email string `json:"email" validate:"required,email" description:"Contact email"`
    Age   int    `json:"age,omitempty" validate:"gte=0,lte=150"`
}
```

Sentinel extracts the metadata:

```go
metadata := sentinel.Inspect[CreateUserRequest]()

// metadata.Fields contains:
// - {Name: "Name", Type: "string", Tags: {"json": "name", "validate": "required,min=3,max=100", "description": "User's full name"}}
// - {Name: "Email", Type: "string", Tags: {"json": "email", "validate": "required,email", "description": "Contact email"}}
// - {Name: "Age", Type: "int", Tags: {"json": "age,omitempty", "validate": "gte=0,lte=150"}}
```

rocco transforms it to OpenAPI:

```go
rocco.NewHandler[CreateUserRequest, User](
    "create-user", "POST", "/users",
    func(req *rocco.Request[CreateUserRequest]) (User, error) {
        // ...
    },
)

spec := engine.GenerateOpenAPI(identity)
```

```json
{
  "type": "object",
  "required": ["name", "email"],
  "properties": {
    "name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 100,
      "description": "User's full name"
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Contact email"
    },
    "age": {
      "type": "integer",
      "minimum": 0,
      "maximum": 150
    }
  }
}
```

Change the struct, the docs update. No manual spec maintenance.

## What Sentinel Provides

| rocco needs     | Sentinel provides                                      |
| --------------- | ------------------------------------------------------ |
| Property names  | `FieldMetadata.Tags["json"]`                           |
| Property types  | `FieldMetadata.Type` → OpenAPI type mapping            |
| Required fields | `FieldMetadata.Tags["validate"]` containing `required` |
| Constraints     | `FieldMetadata.Tags["validate"]` → OpenAPI constraints |
| Descriptions    | `FieldMetadata.Tags["description"]`                    |
| Examples        | `FieldMetadata.Tags["example"]`                        |
| Nested schemas  | `Metadata.Relationships` for `$ref` generation         |

## Tag Mappings

| Validate Tag  | OpenAPI                                      |
| ------------- | -------------------------------------------- |
| `required`    | field in `required` array                    |
| `min=3`       | `minLength` (strings) or `minimum` (numbers) |
| `max=100`     | `maxLength` or `maximum`                     |
| `email`       | `format: "email"`                            |
| `url`         | `format: "uri"`                              |
| `uuid`        | `format: "uuid"`                             |
| `oneof=a b c` | `enum: ["a", "b", "c"]`                      |

## Nested Types

Sentinel's relationship discovery handles complex types automatically:

```go
type Order struct {
    ID       string    `json:"id"`
    Customer *Customer `json:"customer"`
    Items    []Item    `json:"items"`
}
```

When `Order` is scanned, sentinel discovers `Customer` and `Item`. rocco includes all three in `components.schemas` with proper `$ref` links.

## Learn More

- [rocco repository](https://github.com/zoobzio/rocco)
- [openapi repository](https://github.com/zoobzio/openapi) — OpenAPI type definitions
